<!doctype html>
<html>
<head>
    <!---Step 2-->
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
    <body>
        
<div id = "valori">

        "0, No Latency": 6,
        <br>
        "0, Low": 12,
        <br>
        "0, High": 7,
        <br>
        "0, Very High": 2,
        <br>
        "1, No Latency": 1,
        <br>
        "1, Low": 1,
        <br>
        "2, No Latency": 1,
        <br>
        "3, Low": 1,
        <br>
        "4, Low": 2,
        <br>
        "4, High": 1,
        <br>
        "6, No Latency": 1,
        <br>
        "8, No Latency": 1
        <br>
    </div>       
        
        
        
        

<div id = "svg-div">
<svg width='800' height='400' id ='svg_tamb'></svg>    

</div>
<div id = "coordinates"></div>
<script>

var svg_tamb = d3.select("#svg_tamb"),
            margin = 200,
            width = svg_tamb.attr("width") - margin, //300
            height = svg_tamb.attr("height") - margin //200


            ////DATA TAMB

            var datasetTamb = [[0, 1], [0, 3], [0, 2], [0, 1], [1, 0], [0, 1], [0, 1], [4, 1], [0, 1], [0, 1], [0, 1], [0, 2], [0, 2], [0, 1], [0, 0], [0, 1], [3, 1], [0, 2], [0, 1], [0, 1], [0, 1], [0, 2], [6, 0], [0, 0], [0, 2], [0, 0], [0, 0], [0, 1], [0, 0], [0, 1], [0, 2], [0, 0], [0, 1], [0, 2], [0, 0], [0, 3], [4, 1], [2, 0], [0, 1], [0, 1], [0, 1], [0, 2], [8, 0], [0, 3], [0, 0], [1, 1], [0, 0], [0, 1], [4, 2], [0, 1]];
            var count = {};

            for (var i = 0; i < datasetTamb.length; i++) {
                var value = datasetTamb[i];
                if (value in count) {
                    count[value]++;
                } else {
                    count[value] = 1;
                }
            }
           console.log(count)
            

                xScale = d3.scaleLinear().domain([0, 8]).range([0, width]),
                yScale = d3.scaleLinear().domain([0, 3]).range([height, 0]);

                var g = svg_tamb.append("g")
                .attr("transform", "translate(" + 100 + "," + 100 + ")");

               

                    g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(d3.axisBottom(xScale));
        
                g.append("g")
                .call(d3.axisLeft(yScale));

                

                svg_tamb.append('g')
                    .selectAll("dot")
                    .data(datasetTamb)
                    .enter()
                    .append("circle")
                    .attr("cx", function (d) { return xScale(d[0]); } )
                    .attr("cy", function (d) { return yScale(d[1]); } )
                    .attr("r", function (d) { 
                        
                        if((d[0] == 0) && (d[1] == 1)) return 12 + 3
                        else if((d[0] == 0) && (d[1] == 2)) return 7 + 3 
                        else if((d[0] == 0) && (d[1] == 3)) return 2 + 3
                        else if((d[0] == 4) && (d[1] == 1)) return 2 + 3
                        else if((d[0] == 0) && (d[1] == 0)) return 6 + 3
                        else return 1 + 3
                    
                    })
                    .attr("transform", "translate(" + 100 + "," + 100 + ")")
                    .style("fill", "#CC0000")
                    .attr("id", function(d,i){ return "dotTamb"})
                    .on('mouseover', function (d, i) {
                    document.getElementById("coordinates").innerHTML = "Effective Latency: " + d[0] + " , " + "Perceived Latency" + ": " + d[1]
                    d3.select(this).style("fill", "#7CFC00")
                  
                })
                    
                    .on('mouseout', function (d, i) {
                    document.getElementById("coordinates").innerHTML = ""
                    d3.select(this).style("fill", "#CC0000")
                }); 

                var line = d3.line()
                    .x(function(d) { return xScale(d[0]); }) 
                    .y(function(d) { return yScale(d[1]); }) 
                    .curve(d3.curveMonotoneX)

        

                svg_tamb.append('text')
                    .attr('x', width/2 + 100)
                    .attr('y', 100)
                    .attr('text-anchor', 'middle')
                    .style('font-family', 'Helvetica')
                    .style('font-size', 20)
                    .text('Scatter Plot');
        
                // X label
                svg_tamb.append('text')
                    .attr('x', width/2 + 100)
                    .attr('y', height - 15 + 150)
                    .attr('text-anchor', 'middle')
                    .style('font-family', 'Helvetica')
                    .style('font-size', 12)
                    .text('Effective Latency');
        
                // Y label
                svg_tamb.append('text')
                    .attr('text-anchor', 'middle')
                    .attr('transform', 'translate(60,' + height + ')rotate(-90)')
                    .style('font-family', 'Helvetica')
                    .style('font-size', 12)
                    .text('Perceived Latency');

                

    </script>
    </body>
    </html>